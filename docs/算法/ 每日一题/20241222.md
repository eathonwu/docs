---
title: '20241222'
---

## 题目
1387. 将整数按权重排序
已解答
中等
相关标签
相关企业
提示
我们将整数 x 的 权重 定义为按照下述规则将 x 变成 1 所需要的步数：

如果 x 是偶数，那么 x = x / 2
如果 x 是奇数，那么 x = 3 * x + 1
比方说，x=3 的权重为 7 。因为 3 需要 7 步变成 1 （3 --> 10 --> 5 --> 16 --> 8 --> 4 --> 2 --> 1）。

给你三个整数 lo， hi 和 k 。你的任务是将区间 [lo, hi] 之间的整数按照它们的权重 升序排序 ，如果大于等于 2 个整数有 相同 的权重，那么按照数字自身的数值 升序排序 。

请你返回区间 [lo, hi] 之间的整数按权重排序后的第 k 个数。

注意，题目保证对于任意整数 x （lo <= x <= hi） ，它变成 1 所需要的步数是一个 32 位有符号整数。
示例 1：

输入：lo = 12, hi = 15, k = 2
输出：13
解释：12 的权重为 9（12 --> 6 --> 3 --> 10 --> 5 --> 16 --> 8 --> 4 --> 2 --> 1）
13 的权重为 9
14 的权重为 17
15 的权重为 17
区间内的数按权重排序以后的结果为 [12,13,14,15] 。对于 k = 2 ，答案是第二个整数也就是 13 。
注意，12 和 13 有相同的权重，所以我们按照它们本身升序排序。14 和 15 同理。
示例 2：

输入：lo = 7, hi = 11, k = 4
输出：7
解释：区间内整数 [7, 8, 9, 10, 11] 对应的权重为 [16, 3, 19, 6, 14] 。
按权重排序后得到的结果为 [8, 10, 11, 7, 9] 。
排序后数组中第 4 个数字为 7 。
 

提示：

1 <= lo <= hi <= 1000
1 <= k <= hi - lo + 1

## 答案

递归
```.go
func getKth(lo int, hi int, k int) int {
    arr:=make([]item,hi-lo+1)
    m:=make(map[int]int)
    m[2] = 1
    for i:=lo;i<=hi;i++{
       if i%2==0 && m[i/2]!=0{
            m[i] = m[i/2] + 1
            arr[i-lo] = item{val:i,weight:m[i]}
            continue
       }
       w:=findWeight(i,m)
        arr[i-lo] = item{val:i,weight:w}
       m[i] = w
    }

    // 求第k大的数
    for i:=0;i<len(arr);i++{
        for j:=i+1;j<len(arr);j++{
            if arr[i].weight > arr[j].weight{
                 arr[i],arr[j] = arr[j],arr[i]
            }
            if arr[i].weight == arr[j].weight{
                 if arr[i].val>arr[j].val{
                    arr[i],arr[j] = arr[j],arr[i]
                 }
            }
        }
        
    }
    return arr[k-1].val

}

type item struct{
    val int
    weight int
}

func findWeight(x int,m map[int]int)int{
    if x== 2{
        return 1 
    }
    if m[x]!=0{
        return m[x]
    }
    if x%2==0{
        return 1 + findWeight(x/2,m)
    }else{
        return 1 + findWeight(3*x+1,m)
    }
}

```