# redis 架构

![image-20220520122914366](/Users/wuguangkuo/hugo_project/ms/static/image-20220520122914366.png)

## 持久化方式

rdb: fork进程

aof: 一个线程,

## 一致性hash:

一致哈希 是一种特殊的哈希算法。在使用一致哈希算法后，哈希表槽位数（大小）的改变平均只需要对 `K/n` 个关键字重新映射，其中 `K` 是关键字的数量，`n` 是槽位数量。然而在传统的哈希表中，添加或删除一个槽位的几乎需要对所有关键字进行重新映射。

# 多级缓存:

缓存更新、缓存一致性问题





key---key--->value形式 还是key-value形式









